spack:
  definitions:
  - core_compiler: [ gcc@8.5.0 ]
  - intel_stable_compiler: [ intel@19.1.2 ]
  - intel_stable_mpi: [ intel-mpi@2019.9.304 ]
  - intel_stable_blas: [ intel-mkl2019.5.281 ]
  - intel_stable_gpu: [ cuda@11.6.2 cuda_arch=70 ]
  - intel_stable_python: [ python@3.9.12 +tkinter +optimization ]
  - intel_stable_cmake: [ 3.2.1 ]
  - gcc_stable_compiler: [ gcc@9.3.0 ]
  - gcc_stable_mpi: [ mvapich2 fabrics=tcp,self @2.3.6 ]
  - gcc_stable_blas: [ openblas@0.3.19 ]
  - gcc_stable_gpu: [ cuda@10.2.89 ]
  - gcc_stable_python: [ python@3.9.12 +tkinter +optimization ]
  - gcc_nextgen_compiler: [ gcc@10.3.0 ]
  - gcc_nextgen_mpi: [ mvapich2@2.3.7 ]
  - gcc_nextgen_blas: [ openblas@0.3.20 ]
  - gcc_nextgen_gpu: [ cuda@1 ]
  - gcc_nextgen_python: [ python@3.9.12 +tkinter +optimization ]
  - llvm_deprec_compiler: [ llvm@11.0.1 ]
  - llvm_deprec_python: [ 2.7.18 ]
  - llvm_deprec_mpi: [ mvapich2@2.3.4 ]
  - llvm_deprec_blas: [ openblas@0.3.15 ]
  - llvm_deprec_gpu: [ cuda@0.1 ]
  - llvm_stable_compiler: [ llvm@13.0.1 ]
  - llvm_stable_mpi: [ mvapich2@2.3.7 ]
  - llvm_stable_blas: [ openblas@0.3.18 ]
  - llvm_stable_gpu: [ cuda@1 ]
  - llvm_stable_python: [ python@3.7.7 +tkinter +optimization ]
  - core_pkgs:
    - cmake
    - autoconf
    - automake ^openssl@1.1.1b
  - serial_pkgs:
    - netcdf-c ~mpi
    - openblas threads=openmp
    - cuda
    - cuda@11.0.2
    - cuda@11.1.1
  - mpi_pkgs:
    - pkg @2.18 +mpi +cuda cuda_arch=70 ^libiconv ^libgreat
  - mpi_blas_pkgs:
    - gmsh +openmp+hdf5
    - hypre +cuda cuda_arch=70
    - scotch +esmumps+mpi~metis
  specs:
  - matrix:
    - [ $core_pkgs ]
    - [ $%core_compiler ]
  - matrix:
    - [ $serial_pkgs ]
    - [ $%gcc_stable_compiler ]
  - matrix:
    - [ $serial_pkgs ]
    - [ $%intel_stable_compiler ]
  - matrix:
    - [ $mpi_pkgs ]
    - [ $^gcc_stable_mpi ]
    - [ $%gcc_stable_compiler ]
  - matrix:
    - [ $mpi_blas_pkgs ]
    - [ $^gcc_stable_mpi ]
    - [ $^gcc_stable_blas ]
    - [ $%gcc_stable_compiler ]
  - matrix:
    - [ $mpi_blas_pkgs ]
    - [ $^llvm_deprecated_mpi ]
    - [ $^llvm_deprecated_blas ]
    - [ $%llvm_deprecated_compiler ]
